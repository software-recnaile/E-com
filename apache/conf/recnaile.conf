# recnaile.conf - Apache Reverse Proxy for all services (HTTP only)

<VirtualHost *:80>
    ServerName api.recnaile.com

    # Preserve original host header
    ProxyPreserveHost On
    ProxyRequests Off

    # AuthService
    ProxyPass /api/auth http://authservice:8081/api/auth
    ProxyPassReverse /api/auth http://authservice:8081/api/auth

    # AccountService / Orders
    ProxyPass /api/orders http://accountservice:8082/api/orders
    ProxyPassReverse /api/orders http://accountservice:8082/api/orders

    # ProductService
    ProxyPass /api/products http://productservice:8083/api/products
    ProxyPassReverse /api/products http://productservice:8083/api/products

    # CartService
    ProxyPass /api/cart http://cartservice:8084/api/cart
    ProxyPassReverse /api/cart http://cartservice:8084/api/cart

    # WishlistService
    ProxyPass /api/wishlists http://wishlistservice:8085/api/wishlists
    ProxyPassReverse /api/wishlists http://wishlistservice:8085/api/wishlists

    # ProfileService
    ProxyPass /api/user-profiles http://profile:8086/api/user-profiles
    ProxyPassReverse /api/user-profiles http://profile:8086/api/user-profiles

    # BulkOrderService
    ProxyPass /api/bulk-orders http://bulkorderservice:8087/api/bulk-orders
    ProxyPassReverse /api/bulk-orders http://bulkorderservice:8087/api/bulk-orders

    # AddressService
    ProxyPass /api/addresses http://address:8088/api/addresses
    ProxyPassReverse /api/addresses http://address:8088/api/addresses

    # MailService
    ProxyPass /api/drone-plans http://mailservice:8089/api/drone-plans
    ProxyPassReverse /api/drone-plans http://mailservice:8089/api/drone-plans

    # Optional: Logging for debugging
    ErrorLog /usr/local/apache2/logs/recnaile-error.log
    CustomLog /usr/local/apache2/logs/recnaile-access.log combined
</VirtualHost>

